var T=Object.defineProperty,V=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var v=(n,t,e)=>t in n?T(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,p=(n,t)=>{for(var e in t||(t={}))B.call(t,e)&&v(n,e,t[e]);if(h)for(var e of h(t))F.call(t,e)&&v(n,e,t[e]);return n},y=(n,t)=>V(n,R(t));import{d as D,r as O,o as i,c as u,w as d,K as S,a as $,b as j,e as q,u as K,f as M,g as W,h as z,E as G,i as g,j as w,k as E,F as J,l as U,m as Q,T as X,n as Y,p as Z,t as N,q as k,s as ee,v as te,x as oe,y as ne,z as se}from"./vendor.6ba241a6.js";const re=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function e(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=e(o);fetch(o.href,r)}};re();const ae=D({setup(n){return(t,e)=>{const s=O("router-view");return i(),u(s,null,{default:d(({Component:o})=>[(i(),u(S,{include:["HomePage"]},[(i(),u($(o)))],1024))]),_:1})}}}),ce="modulepreload",L={},ie="/vue3-vite-demo/",l=function(t,e){return!e||e.length===0?t():Promise.all(e.map(s=>{if(s=`${ie}${s}`,s in L)return;L[s]=!0;const o=s.endsWith(".css"),r=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${r}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":ce,o||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),o)return new Promise((m,c)=>{a.addEventListener("load",m),a.addEventListener("error",c)})})).then(()=>t())},le=async()=>{const n="https://cdn.mdeer.com/contentdtos.js?callback=callbackcontentdtos&t=1628318435956&_=1628318432739",{data:t}=await j.get(n),e=t.slice(20,t.length-1);return JSON.parse(e)};var ue=(n,t)=>{const e=n.__vccOpts||n;for(const[s,o]of t)e[s]=o;return e};const _e={class:"container"},de=["onClick"],me={class:"author-name"},pe={name:"HomePage"},fe=D(y(p({},pe),{setup(n,{expose:t}){const e=q({newList:[],loadNews:[]}),s=K();let o=!1;const r=async()=>{console.log("[ getInfo ] \u{1F680}, ");const c=await le();e.newList=c,e.loadNews=c.slice(0,10),o=!0},a=c=>{s.push({name:"NewsDetail",params:p({},c)})},m=()=>{console.log("[ load ] \u{1F680}");const c=e.loadNews.length;o===!0&&(e.loadNews.push(...e.newList.slice(c,c+5)),console.log("[ state.loadNews ] \u{1F680}, ",e.loadNews.length))};return t({name:"Home"}),M(()=>{r()}),W(()=>{console.log("Home\u9500\u6BC1\u4E86")}),(c,ye)=>{const P=O("router-view"),b=ee,C=Y,I=z("dompurify-html"),x=G;return i(),g("main",_e,[w(P),E((i(),u(X,{tag:"ul",name:"list",class:"infinite-list","infinite-scroll-delay":500},{default:d(()=>[(i(!0),g(J,null,U(Q(e).loadNews,(_,H)=>(i(),u(b,{key:H,class:"news-card"},{header:d(()=>[Z(N(_.title),1)]),default:d(()=>[E(k("div",{class:"content",onClick:ge=>a(_)},null,8,de),[[I,_.articleAbstract]]),k("div",me,N(_.authorName),1)]),_:2},1024))),128)),w(C,{key:"empty",description:"\u6CA1\u6709\u4E86\u5462~~"})]),_:1})),[[x,m]])])}}}));var he=ue(fe,[["__scopeId","data-v-0ab3d43b"]]);const ve=[{path:"/",name:"Home",component:he,meta:{keepAlive:!0},children:[{path:"/home/detail",name:"HomeDetail",component:()=>l(()=>import("./index.ce26c653.js"),["assets/index.ce26c653.js","assets/vendor.6ba241a6.js","assets/vendor.08e39216.css"])}]},{path:"/:pathMatch(.*)*",name:"404",component:()=>l(()=>import("./index.69b826a3.js"),["assets/index.69b826a3.js","assets/index.b0fc25b3.css","assets/vendor.6ba241a6.js","assets/vendor.08e39216.css"])},{path:"/news/:contentId",name:"NewsDetail",component:()=>l(()=>import("./index.1cc992ca.js"),["assets/index.1cc992ca.js","assets/index.b7d5c6ea.css","assets/vendor.6ba241a6.js","assets/vendor.08e39216.css"]),meta:{keepAlive:!1}},{path:"/other",name:"Other",component:()=>l(()=>import("./index.0e6a729a.js"),["assets/index.0e6a729a.js","assets/index.0e3d42a3.css","assets/vendor.6ba241a6.js","assets/vendor.08e39216.css"]),meta:{keepAlive:!1},children:[{path:"/other/why",name:"Why",component:()=>l(()=>import("./index.724d779a.js"),["assets/index.724d779a.js","assets/index.89ac82e3.css","assets/vendor.6ba241a6.js","assets/vendor.08e39216.css"])}]}],A=te({history:oe(),routes:ve});A.beforeEach((n,t)=>{if(n.matched.length===0||n.name==="NewsDetail"&&Object.keys(n.params).length===1)return"/"});const f=ne(ae);f.use(se);f.use(A);f.mount("#app");export{ue as _};
